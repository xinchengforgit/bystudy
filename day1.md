#### 1.先要实现字符与摩斯密码的对应关系

**实现一种关于char 对于 string 的对应关系自然而然的会想到stl中的map。**

但由于我对于map的用法不甚了解(开始学c++时被建议不要用stl2333),我上网

查询了一下map的用法。

**map是一类关联式容器，它可以自动建立key -value的对于关系，并且能够较快的进行查询。**

在本项目，仅需要其插入和查询的功能:

##### 1.插入

插入有以下的方法

~~~c++
//1
map.insert(pair<char,string>('A',".- "));//不过用在本处中太冗杂
//2
 map<int, string>::iterator iter;  
  
    for(iter = mapStudent.begin(); iter != mapStudent.end(); iter++)  
  
       cout<<iter->first<<' '<<iter->second<<endl;  
//其中iter是一个迭代器,拥有类似指针的作用,但碍于摩斯密码并无多大规律，所以也不适用
//3
    map['A']=".- ";
//形如数组的用法，不过把下标改成了char类型，在本处非常适合
~~~

##### 2.查询

~~~c++
//1查询存在与否
map.count();//返回0或1
//2查询具体位置
map.find()//返回一个迭代器
~~~

![image-20210320123933696](C:\Users\leh\AppData\Roaming\Typora\typora-user-images\image-20210320123933696.png)

一开始写的函数，注意到cin不会读入空格，故需要while(反复读入),并施加中止条件，此外每一次循环表名一个单词读入完成，需要在末尾加入“   ”

#### 2.实现声音API的输出

根据我百度获得的结果，我得知c++中没有专门的声音API，故而我退而求其次，百度c++怎么样输出声音，从网上得知windows.h内置的beep可以发出不同频率和时常，正好符合条件

~~~
//Beep的用法
Beep(参数1,参数2)
其中参数1表示频率，参数2表示时常
~~~

故而接下来要做的就是将对应的摩斯密码转换为合适的频率

经过我的百度，我了解到摩斯电码的频率在这里适用为528,至于时常经过我的反复测试，差不多以500代表‘.'，以800代表'-'听起来比较合适，

~~~c++
//每当遇到空格，需要暂停0.33s钟，此时用到Sleep()函数
Sleep(1000*ms)//里面的参数是ms
~~~

**至此，第一阶段的基本要求就达成了，那么扩展要求呢**

#### 3.第一阶段扩展要求的实现

##### 1.实现可调发频率和停顿时间

实际上只要在播报之前先请求用户是否需要设定频率和时间即可

##### 2.模拟人类发报时的随机抖动与误差

人类发报时产生的随机抖动与误差即是发送相邻两个字母之间的时间间隔是随机的，我采用随机数r1实现

~~~
//模拟人类发报的过程 
   	for(int i=0;i<po.size()-3;i++)
   	{
   		if(po[i]=='.'){
			cout<<po[i];
   			Beep(t1,500);}
   		else if(po[i]=='-'){
   			cout<<po[i];
   			Beep(t1,800);}
   		else{
   			cout<<" "; 
   			r1=rand()%10;
   			Sleep(s_time+r1*100);}
	   }
	在发报的过程中，Sleep()内的基本时间加上了一个随机数，表名人类发报时不同间歇的思考
~~~



##### 3.模拟人类发报时的随机误差

我有几个基本的想法，人类在按下.或者是-时不一定会立刻发现已经按错了,可能再按下了几个键才发现自己之前的错误,此外还有一点，就是随着人类发送的电报越来越长，人类出现错误的概率总是可能会越来越大；故而越到后面，越有可能出现错误；

我是这样考虑模拟误差产生的，产生一个随机数r2，如果r2==1,那么我们认为此时模拟人按错了按键，那么由于人按下按键后不一定能够立刻发现自己已经按错了按键，我们在产生一个随机数r3，表示在这之后的第r3个数，人发现了自己的随机误差，并进行处理。



#### 4.将第一阶段实现的功能封装成函数

为了实现后续的报告案例，必须要将第一阶段的功能封装成函数来进行实现.